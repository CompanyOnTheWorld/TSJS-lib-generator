<!doctype html>
<!-- The Time Machine GitHub pages theme was designed and developed by Jon Rohan, on Feb 7, 2012. -->
<!-- Follow him for fun. http://twitter.com/jonrohan. Tail his code on https://github.com/jonrohan -->
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

  <link rel="stylesheet" href="stylesheets/stylesheet.css" media="screen">
  <link rel="stylesheet" href="stylesheets/github-dark.css">
  <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
  <script type="text/javascript" src="javascripts/script.js"></script>

  <title>Tsjs-lib-generator</title>
  <meta name="description" content="Tool for generating dom related TypeScript and JavaScript library files ">

  <meta name="viewport" content="width=device-width,initial-scale=1">

</head>

<body>

  <div class="wrapper">
    <header>
      <h1 class="title">Tsjs-lib-generator</h1>
    </header>
    <div id="container">
      <p class="tagline">Tool for generating dom related TypeScript and JavaScript library files </p>
      <div id="main" role="main">
        <div class="download-bar">
        <div class="inner">
          <a href="https://github.com/CompanyOnTheWorld/TSJS-lib-generator/tarball/master" class="download-button tar"><span>Download</span></a>
          <a href="https://github.com/CompanyOnTheWorld/TSJS-lib-generator/zipball/master" class="download-button zip"><span>Download</span></a>
          <a href="https://github.com/CompanyOnTheWorld/TSJS-lib-generator" class="code">View Tsjs-lib-generator on GitHub</a>
        </div>
        <span class="blc"></span><span class="trc"></span>
        </div>
        <article class="markdown-body">
          <h1>
<a id="typescript-and-javascript-lib-generator" class="anchor" href="#typescript-and-javascript-lib-generator" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>TypeScript and JavaScript lib generator</h1>

<p><a href="https://ci.appveyor.com/project/zhengbli/tsjs-lib-generator/branch/master"><img src="https://ci.appveyor.com/api/projects/status/8oj3j7u6nvag1xvu/branch/master?svg=true" alt="Build status"></a></p>

<p>This tool is used to generate <code>dom.generated.d.ts</code> and <code>webworker.generated.d.ts</code> for TypeScript, and <code>domWeb.js</code> and <code>domWindows.js</code> for Visual Studio JavaScript language service.
The input file is the XML spec file generated by the Microsoft Edge browser.</p>

<h2>
<a id="build-instructions" class="anchor" href="#build-instructions" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Build Instructions</h2>

<p>To build the tool, simply clone this repo, and run <code>build.cmd</code> (Windows) or <code>build.sh</code> (OS X/Unix) on the command line.
If it runs successfully, the output files will be generated under the <code>generated</code> folder.</p>

<p>Note: for OS X and Unix users, <a href="http://www.mono-project.com/download/alpha/">Mono 4.2</a> is required.</p>

<h2>
<a id="contribution-guidelines" class="anchor" href="#contribution-guidelines" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Contribution Guidelines</h2>

<p>The <code>dom.generated.d.ts</code> and <code>webworker.generated.d.ts</code> files in the TypeScript repo are used as baselines.
For each pull request, we will run the script and compare the generated files with the baseline files.
In order to make the tests pass, please update the baseline as well in any pull requests.</p>

<p>For common changes, it is sufficient to change the json files.
There are three json files that are used to alter the file generation: <code>addedTypes.json</code>, <code>overridingTypes.json</code>, and <code>removedTypes.json</code>.
The format of each file can be inferred from their existing content.</p>

<p>The common steps to send a pull request are:</p>

<ol>
<li>Open or refer to an issue in the <a href="https://github.com/Microsoft/TypeScript">TypeScript repo</a>.</li>
<li>Add missing elements to <code>inputfiles/addedTypes.json</code>, overriding elements to <code>inputfiles/overridingTypes.json</code>, or elements to remove to <code>inputfiles/removedTypes.json</code>.</li>
<li>Run the script locally to obtain new <code>dom.generated.d.ts</code> and <code>webworker.generated.d.ts</code>.</li>
<li>Update the files in the <code>baselines</code> folder using the newly generated files.</li>
</ol>

<h2>
<a id="code-structure" class="anchor" href="#code-structure" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Code Structure</h2>

<ul>
<li>
<code>Shared.fs</code>: handles the parsing from XML spec file, and stores the common data structures for later use.</li>
<li>
<code>TS.fs</code>: handles the emitting of the <code>lib.d.ts</code> file.</li>
<li>
<code>JS.fs</code>: handles the emitting of the <code>domWeb.js</code> and <code>domWindows.js</code>.</li>
</ul>

<h2>
<a id="input-files" class="anchor" href="#input-files" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Input Files</h2>

<ul>
<li>
<code>browser.webidl.xml</code>: an XML spec file generated by Microsoft Edge. <strong>Do not edit this file</strong>.

<ul>
<li>Due to the different update schedules between Edge and TypeScript, this may not be the most up-to-date version of the spec.</li>
</ul>
</li>
<li>
<code>webworker.webidl.xml</code>: an XML spec file generated by Microsoft Edge that contains types for Web Workers. <strong>Do not edit this file</strong>.</li>
<li>
<code>addedTypes.json</code>: types that should exist in either browser or webworker but are missing from the Edge spec. The type can be <code>property</code>, <code>method</code>, <code>interface</code>, <code>constructor</code>, or <code>indexer</code>.</li>
<li>
<code>overridingTypes.json</code>: types that are defined in the spec file but has a better or more up-to-date definitions in the json files.</li>
<li>
<code>removedTypes.json</code>: types that are defined in the spec file but should be removed.</li>
<li>
<code>comments.json</code>: comment strings to be embedded in the generated .js files.</li>
<li>
<code>jsTemplate.js</code>: the initial templates for <code>domWeb.js</code> and <code>domWindows.js</code>, which contains the necessary helper functions.</li>
<li>
<code>sample.json</code>: sample json file used to tell F# json type provider that structure of the json files. The content of it is not used anywhere.</li>
</ul>
        </article>
      </div>
    </div>
    <footer>
      <div class="owner">
      <p><a href="https://github.com/CompanyOnTheWorld" class="avatar"><img src="https://avatars0.githubusercontent.com/u/13640522?v=3&amp;s=60" width="48" height="48"></a> <a href="https://github.com/CompanyOnTheWorld">CompanyOnTheWorld</a> maintains <a href="https://github.com/CompanyOnTheWorld/TSJS-lib-generator">Tsjs-lib-generator</a></p>


      </div>
      <div class="creds">
        <small>This page generated using <a href="https://pages.github.com/">GitHub Pages</a><br>theme by <a href="https://twitter.com/jonrohan/">Jon Rohan</a></small>
      </div>
    </footer>
  </div>
  <div class="current-section">
    <a href="#top">Scroll to top</a>
    <a href="https://github.com/CompanyOnTheWorld/TSJS-lib-generator/tarball/master" class="tar">tar</a><a href="https://github.com/CompanyOnTheWorld/TSJS-lib-generator/zipball/master" class="zip">zip</a><a href="" class="code">source code</a>
    <p class="name"></p>
  </div>

  
</body>
</html>
